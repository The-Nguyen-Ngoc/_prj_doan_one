<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <head th:replace="fragments::header('Th√™m S·∫£n Ph·∫©m üë®‚Äçüíª')"/>
    <link rel="stylesheet" type="text/css" th:href="@{/richtext/richtextmin.css}"/>
    <script type="text/javascript" th:src="@{/richtext/jqueryrichtextmin.js}"></script>
</head>
<body>
<div class="container-fluid">
    <div th:replace="fragments::menu"></div>
    <div th:replace="fragments::titleHeaderPage('Qu·∫£n L√Ω S·∫£n Ph·∫©m /', ' Th√™m - S·ª≠a S·∫£n Ph·∫©m')"></div>
    <div class="text-center">
        <h4>Vui l√≤ng ƒëi·ªÅn th√¥ng tin c·ªßa s·∫£n ph·∫©m</h4><br>
    </div>

    <form class="mt-1 shadow p-3 mb-5 bg-body rounded" th:action="@{/products/save}" method="POST"
          style="max-width: 700px; margin: 0 auto" onsubmit="return checkUnique(this)"
          enctype="multipart/form-data" th:object="${product}">
        <input type="hidden" name="id" th:value="${product.id}"/>
        <!-- Nav tabs -->
        <div>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#overview" role="tab">T·ªïng Quan</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#description" role="tab">M√¥ T·∫£</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#images" role="tab">H√¨nh ·∫¢nh</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#details" role="tab">Chi Ti·∫øt</a>
                </li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                <div class="tab-pane active" id="overview" role="tabpanel">
                    <div th:replace="products/product_overview::content"></div>
                </div>
                <div class="tab-pane" id="description" role="tabpanel">.ghdfg.</div>
                <div class="tab-pane" id="images" role="tabpanel">..jkhgfh.</div>
                <div class="tab-pane" id="details" role="tabpanel">..t·ª∑yt.</div>
            </div>
        </div>
        <div class="text-center">
            <input type="submit" value="L∆∞u" class="btn btn-primary m-4 w-25">
            <input type="button" value="H·ªßy" class="btn btn-secondary m-4 w-25" id="buttonCancel">
        </div>
    </form>
    <div th:replace="modal_fragments:: modal_dialog"></div>

</div>
<script type="text/javascript" th:src="@{/js/common_form.js}"></script>
<script type="text/javascript">
    moduleURL = "[[@{/products/}]]";
    brandModuleURL = "[[@{/brands/}]]";
    dropdownBrands = $("#brand")
    dropdownCategories = $("#category")
    $(document).ready(function () {
        dropdownBrands.change(function () {
            dropdownCategories.empty()
            getCategories();
        });
        getCategories();

    });

    function getCategories() {
        var brandId = dropdownBrands.val();
        $.get(brandModuleURL + brandId + "/categories", function (data) {
            data.forEach(function (item) {
                $("<option>").val(item.id).text(item.name).appendTo(dropdownCategories);
            });
        });
    }
</script>
</body>
<footer th:replace="fragments::footer('thenguyenngochn@gmail.com - Add Product')">
</footer>
</html>